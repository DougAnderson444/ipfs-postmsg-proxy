{"version":3,"sources":["../../src/server/pin.js"],"names":["getIpfs","opts","add","pre","pin","rm","ls"],"mappings":";;;;;;kBAKe,UAAUA,OAAV,EAAmBC,IAAnB,EAAyB;AACtC,SAAO;AACLC,SAAK,wBAAO,cAAP,EAAuB,kBAC1B,+BAAkB,CAAlB,CAD0B,EAE1B,yBAAe,CAAf,CAF0B,EAG1BD,KAAKE,GAAL,CAAS,SAAT,CAH0B,EAI1B;AAAA;;AAAA,aAAa,0BAAUC,GAAV,EAAcF,GAAd,+BAAb;AAAA,KAJ0B,CAAvB,EAKFD,IALE,CADA;AAOLI,QAAI,wBAAO,aAAP,EAAsB,kBACxB,+BAAkB,CAAlB,CADwB,EAExB,yBAAe,CAAf,CAFwB,EAGxBJ,KAAKE,GAAL,CAAS,QAAT,CAHwB,EAIxB;AAAA;;AAAA,aAAa,2BAAUC,GAAV,EAAcC,EAAd,gCAAb;AAAA,KAJwB,CAAtB,EAKDJ,IALC,CAPC;AAaLK,QAAI,wBAAO,aAAP,EAAsB,kBACxB,+BAAkB,CAAlB,CADwB,EAExB,yBAAe,CAAf,CAFwB,EAGxBL,KAAKE,GAAL,CAAS,QAAT,CAHwB,EAIxB;AAAA;;AAAA,aAAa,2BAAUC,GAAV,EAAcE,EAAd,gCAAb;AAAA,KAJwB,CAAtB,EAKDL,IALC;AAbC,GAAP;AAoBD,C;;AA1BD;;AACA;;AACA;;AACA","file":"pin.js","sourcesContent":["import { expose } from 'postmsg-rpc'\r\nimport { pre } from 'prepost'\r\nimport { preCidFromJson } from '../serialization/cid'\r\nimport { preBufferFromJson } from '../serialization/buffer'\r\n\r\nexport default function (getIpfs, opts) {\r\n  return {\r\n    add: expose('ipfs.pin.add', pre(\r\n      preBufferFromJson(0),\r\n      preCidFromJson(0),\r\n      opts.pre('pin.add'),\r\n      (...args) => getIpfs().pin.add(...args)\r\n    ), opts),\r\n    rm: expose('ipfs.pin.rm', pre(\r\n      preBufferFromJson(0),\r\n      preCidFromJson(0),\r\n      opts.pre('pin.rm'),\r\n      (...args) => getIpfs().pin.rm(...args)\r\n    ), opts),\r\n    ls: expose('ipfs.pin.ls', pre(\r\n      preBufferFromJson(0),\r\n      preCidFromJson(0),\r\n      opts.pre('pin.ls'),\r\n      (...args) => getIpfs().pin.ls(...args)\r\n    ), opts)\r\n  }\r\n}\r\n"]}